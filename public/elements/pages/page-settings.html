<link rel="import" href="../../elements/odl/odl-theme.html">
<link rel="import" href="../../elements/behaviors/odl-behavior.html">

<link rel="import" href="../../components/i18-n/i18-n.html">
<link rel="import" href="../../components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../elements/behaviors/odl-verifybehavior.html">
<link rel="import" href="../../elements/controls/password-security-bar.html">
<link rel="import" href="../../elements/edits/user-edit.html">

<script src="../../components/travist/jsencrypt/bin/jsencrypt.min.js"></script>

<dom-module id="page-settings">
    <template>

        <i18-n-domain id="domain2" on-i18-n-locale-ready="_localeReady" domain="login" locale="{{lang}}"  messages-url="public/translations-autogenerated"></i18-n-domain>
        <i18-n-domain id="domain3" on-i18-n-locale-ready="_localeReady" domain="register" locale="{{lang}}"  messages-url="public/translations-autogenerated"></i18-n-domain>
        <i18-n-domain id="domain" on-i18-n-locale-ready="_localeReady" domain="settings" locale="{{lang}}"  messages-url="public/translations-autogenerated"></i18-n-domain>
        <style include="odl-styles"></style>

        <div class="vertical layout">
            <paper-card  class="odl-tertiary" style="margin: 1em;padding: 1em;">
                <p> [[t.editUserMessage]]</p>
            </paper-card>
        </div>
        <div class="vertical layout" style="margin: 0.75em; padding: 0.75em;">
            <paper-card>
                <user-edit title="[[t.change_userData]]"
                           class$="[[ifTrue(isMobile,'mobile','desktop')]]"
                           id="uEdit" t="{{t}}" user="{{user}}"></user-edit>
            </paper-card>
        </div>
    </template>
    <script>
        Polymer({
            is: "page-settings",
            behaviors:[OdlBehaviors.OdlBehavior,
                OdlBehaviors.OdlVerifyBehavior],
            properties: {
            },
            ready:function() {
                this.user = userData;
            },
            getHelpText: function(){
                if(this.t && this.t.helpText_settings) {
                    return this.t.helpText_settings;
                } else {
                    return "Unknown";
                }
            },
            _onTranslationUpdate:function(t) {
                if(this.t) {
                    this.navFunctions=[
                        //{key:'Function',title: this.t["Function"], icon: 'dns', href:'javascript:alert("Implement me!"'}
                    ];
                    this.fire("new-nav-functions");

                }
            }
        });

    </script>


</dom-module>