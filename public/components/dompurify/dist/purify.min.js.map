{"version":3,"sources":["./src/purify.js"],"names":["factory","root","window","define","amd","module","exports","DOMPurify","version","document","nodeType","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","NamedNodeMap","MozNamedAttrMap","Text","Comment","DOMParser","createElement","content","ownerDocument","implementation","createNodeIterator","getElementsByTagName","createDocumentFragment","importNode","hooks","createHTMLDocument","documentMode","_addToSet","set","array","l","length","_cloneObj","object","newObject","property","hasOwnProperty","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_DATA_ATTR","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","MUSTACHE_EXPR","ERB_EXPR","WHOLE_DOCUMENT","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","SANITIZE_DOM","KEEP_CONTENT","FORBID_CONTENTS","DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","CONFIG","formElement","_parseConfig","cfg","ADD_TAGS","ADD_ATTR","Object","freeze","_forceRemove","node","parentNode","removeChild","e","outerHTML","_initDocument","dirty","doc","body","parseFromString","firstElementChild","call","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","FILTER_ACCEPT","_isClobbered","elm","nodeName","textContent","attributes","removeAttribute","setAttribute","_sanitizeElements","currentNode","tagName","_executeHook","toLowerCase","insertAdjacentHTML","innerHTML","replace","DATA_ATTR","IS_ALLOWED_URI","ATTR_WHITESPACE","_sanitizeAttributes","attr","name","value","lcName","idAttr","hookEvent","attrName","attrValue","keepAttr","id","Array","prototype","slice","apply","indexOf","test","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","entryPoint","data","forEach","hook","sanitize","oldNode","nodeIterator","returnNode","toString","TypeError","toStaticHTML","firstChild","appendChild","addHook","hookFunction","push","removeHook","pop","removeHooks","removeAllHooks"],"mappings":"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","file":"./dist/purify.min.js"}